# VGA output using an STM32F3-Discovery board
The objective of this project was to utilize an STM32F3-Discovery board (STM32F303VC) to generate VGA signals to display on a monitor. To achieve this goal, we developed an application leveraging the Hardware Abstraction Layer (HAL) provided in the STM32Cube package, in combination with emWin libraries. Additionally, we designed a custom adapter to establish the connection between the VGA pins and the STM board.

The application primarily focuses on creating the necessary VGA synchronization signals while also handling the analog green signal through SPI communication. The VGA signal is adapted to the standard 1V voltage level required by VGA monitors using a voltage divider. To drive the pixel data, the application employs the Direct Memory Access (DMA) controller to efficiently transfer data to the display. The pixel data manipulation and generation are achieved through the use of the emWin library, with the application configured to work with the GUIDRV_BitPlains driver.

Comprehensive documentation (in Italian) is currently available in the [Wiki](https://github.com/lucavivenzo/VGA-STM32F3-Discovery/wiki).  
A video showing the demo is available on [Youtube](https://www.youtube.com/watch?v=aGSfR4g1vQc).

![Demo Video Output](https://i.imgur.com/semI2Es.png)

## Table of Contents

1. [Introduction](#introduction)
2. [Hardware Setup](#hardware-setup)
3. [Software Components](#software-components)
4. [Usage](#usage)
5. [Contributors](#contributors)

## Introduction

The VGA Signal Generator application is designed to generate VGA-compatible signals for display on a standard VGA monitor. It uses an STM32 microcontroller to create the necessary synchronization signals while also handling the green analog signal, which is communicated to the monitor through SPI. The application employs a voltage divider circuit to adjust the voltage levels to meet the VGA standard.

## Hardware Setup

To use this application, you will need the following hardware components:

- STM32F3-Discovery board.
- VGA Monitor: A standard VGA monitor that can display the VGA signal generated by the MCU.
- Voltage Divider Circuit: A voltage divider circuit to adjust the signal voltage levels to 1V for VGA compatibility.
- VGA adapter: A VGA connector or cable to connect the MCU to the VGA monitor.

Ensure that the hardware connections are set up correctly for the application to function as intended. A block diagram showing the connections between the STM32F3-Discovery and the VGA adapter is displayed below:
![Block Diagram](https://i.imgur.com/hPxTZJF.jpeg)

## Software Components

The application uses the following software components and libraries to achieve its functionality:

- **STM32 HAL Library:** The STM32 Hardware Abstraction Layer (HAL) library is utilized to interface with the STM32 MCU's hardware resources, including timers, SPI, and DMA.

- **emWin Library:** This graphical user interface library is used to generate and manipulate pixel data for the VGA display. The application is configured to work with the GUIDRV_BitPlains driver from emWin.

## Usage

To use the VGA Signal Generator application, follow these steps:

1. Set up the required hardware components, including the STM32 MCU, VGA monitor, voltage divider circuit, and VGA connector.

2. Download STM32CubeF3 and specify its path in the Makefile (the root directory is `STM_DIR`).

3. Modify the `LIBS` and `LIB` variables in the makefile in order to point at your own copy of the emWin library.

4. To compile the project, run the following code in `p1Gruppo13`:
```
$ make prepare
$ make
```

5. Flash the application to the STM32 MCU using OpenOCD and GDB.

# Contributors
- Carmine Marra 
- Francesco Maria Papulino
- Simone Staiano 
- Luca Vivenzo
